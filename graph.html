<!DOCTYPE html>
<html>
<head>
    <title>Newton-Raphson Visual Demo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #141e30, #243b55);
            color: white;
            text-align: center;
        }

        h1 {
            margin-top: 20px;
            font-weight: 600;
            font-size: 32px;
        }

        p {
            font-size: 18px;
            opacity: 0.9;
        }

        #container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 40px;
            margin-top: 30px;
        }

        canvas {
            background: #0f2027;
            border-radius: 15px;
            box-shadow: 0 0 25px rgba(0,255,255,0.4);
        }

        #infoBox {
            width: 300px;
            padding: 25px;
            border-radius: 15px;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(0,255,255,0.3);
        }

        #currentX {
            font-size: 26px;
            font-weight: 600;
            color: #00ffff;
            margin: 10px 0;
        }

        #iterationText {
            font-size: 18px;
            margin-bottom: 20px;
        }

        button {
            padding: 12px 25px;
            font-size: 16px;
            font-weight: 600;
            background: linear-gradient(45deg, #00c6ff, #0072ff);
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            transition: 0.3s ease;
            box-shadow: 0 0 15px rgba(0,198,255,0.6);
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0,198,255,1);
        }
    </style>
</head>
<body>

<h1>Newton-Raphson Method Visualization</h1>
<p>Finding √2 using f(x) = x² − 2</p>

<div id="container">
    <canvas id="graph" width="750" height="500"></canvas>

    <div id="infoBox">
        <h2>Iteration Info</h2>
        <p>Current Approximation</p>
        <div id="currentX">1.000000</div>
        <div id="iterationText">Iteration: 0</div>
        <button onclick="nextStep()">Next Iteration</button>
    </div>
</div>

<script>
const canvas = document.getElementById("graph");
const ctx = canvas.getContext("2d");

let x = 1;
let iteration = 0;

function f(x) {
    return x*x - 2;
}

function df(x) {
    return 2*x;
}

function drawAxes() {
    ctx.strokeStyle = "#888";
    ctx.lineWidth = 1;

    ctx.beginPath();
    ctx.moveTo(0, 250);
    ctx.lineTo(750, 250);
    ctx.moveTo(375, 0);
    ctx.lineTo(375, 500);
    ctx.stroke();
}

function drawFunction() {
    ctx.strokeStyle = "#00ffff";
    ctx.lineWidth = 3;
    ctx.shadowColor = "#00ffff";
    ctx.shadowBlur = 15;

    ctx.beginPath();
    for (let px = 0; px < 750; px++) {
        let realX = (px - 375) / 60;
        let realY = f(realX);
        let py = 250 - realY * 60;

        if (px === 0)
            ctx.moveTo(px, py);
        else
            ctx.lineTo(px, py);
    }
    ctx.stroke();
    ctx.shadowBlur = 0;
}

function drawPoint(realX) {
    let px = 375 + realX * 60;
    let py = 250 - f(realX) * 60;

    ctx.fillStyle = "#ff4d4d";
    ctx.shadowColor = "#ff4d4d";
    ctx.shadowBlur = 20;

    ctx.beginPath();
    ctx.arc(px, py, 8, 0, 2*Math.PI);
    ctx.fill();
    ctx.shadowBlur = 0;
}

function drawTangent(realX) {
    let slope = df(realX);
    let y = f(realX);

    ctx.strokeStyle = "#00ff88";
    ctx.lineWidth = 2;

    ctx.beginPath();
    for (let px = 0; px < 750; px++) {
        let xVal = (px - 375) / 60;
        let yVal = y + slope * (xVal - realX);
        let py = 250 - yVal * 60;

        if (px === 0)
            ctx.moveTo(px, py);
        else
            ctx.lineTo(px, py);
    }
    ctx.stroke();
}

function nextStep() {
    if (iteration > 6) return;

    ctx.clearRect(0, 0, 750, 500);
    drawAxes();
    drawFunction();

    drawPoint(x);
    drawTangent(x);

    document.getElementById("currentX").innerText = x.toFixed(6);
    document.getElementById("iterationText").innerText = "Iteration: " + iteration;

    x = x - f(x)/df(x);
    iteration++;
}

drawAxes();
drawFunction();
drawPoint(x);
</script>

</body>
</html>